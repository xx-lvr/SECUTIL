## TCP Segment

**TCP**는 애플리케이션으로부터 전달받은 연속적인 데이터 스트림을
일정 크기로 분할한 뒤 TCP 헤더를 추가하여 **TCP Segment** 를 생성한다.

생성된 **TCP Segment**는 IP 계층에서 IP 데이터그램에 캡슐화되어 전송된다.

## 주요 필드
### Sequence Number (32비트)

TCP 세그먼트에 포함된 데이터의 첫 번째 바이트가 전체 바이트 스트림에서 가지는 순서 번호

+ SYN 플래그 = 1
→ 이 값은 **초기 시퀀스 번호(ISN)**를 의미하며, 실제 데이터는 포함하지 않는다.

+ SYN 플래그 = 0
→ 현재 세션에서 전송되는 데이터의 누적 바이트 기준 시퀀스 번호

### Acknowledgment Number (32비트)

ACK 플래그가 설정된 경우에만 유효하다。

수신자가 다음으로 수신하기를 기대하는 시퀀스 번호

이는 곧 이 번호 이전의 모든 바이트를 정상적으로 수신했음을 의미한다.

최초의 ACK는 상대방의 **초기 시퀀스 번호(ISN + 1)** 에 대한 응답이고,
실제 데이터에 대한 확인 응답은 포함되지 않는다.

일반적으로 **Sequence Number와 함께(piggybacking)** 전송된다.

## Control Flags
**TCP**의 **연결 설정, 연결 종료, 흐름 제어, 데이터 전송 상태**를 제어하기 위한 플래그이다.

주요 플래그 예시
+ ```SYN```: 연결 설정
+ ```ACK```: 확인 응답
+ ```FIN```: 연결 종료
+ ```RST```: 연결 강제 종료
+ ```PSH```: 즉시 상위 계층 전달
+ ```URG```: 긴급 데이터 처리
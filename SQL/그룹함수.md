## ROLLUP
GROUP BY절에 들어가는 컬럼을 대상으로 하위 그룹핑을 수행하는 함수이다.\
일반적으로 소계와 총계를 구할 때 사용한다.

```SQL
SELECT CYL, COUNT(*)
FROM MTCARS
GROUP BY ROLLUP(CYL)
ORDER BY CYL;
```
+ 실린더 수, 기어 수 별로 그룹핑하여 그룹 별 개수를 구하고, 실런더 수 별 소계, 총 소계를 구한다.

## CUBE
ROLLUP과 비슷하지만 ROLLUP이 1차원적인 하위 그룹핑만 수행하는데 반하여 조합가능한 모든 경우로 그룹핑을 수행한다.
+ 인자가 1개인 경우는 ROLLUP과 같지만 두 개 이상일 경우는 결과가 달라진다.
```SQL
SELECT CYL GEAR, COUNT(*)
FROM MTCARS
GROUP BY CUBE(CYL, GEAR)
ORDER BY CYL, GEAR
```
+ 실린더 수, 기어 수 별로 그룹핑하여 그룹 별 개수를 구하고, 실린더 수 별 소계, 기어 수 별 소계, 총계를 구한다.

## GROUPING SETS
GROUPING SETS는 그룹핑할 대상을 지정하는 함수이다.\
ROLLUP이나 CUBE의 경우 소계, 총계 형태로 자동으로 그룹핑이 되는데 반하여 **GROUPING SETS은 입력된 인자에 대해서만 소계를 구할 때 사용**된다.

```SQL
SELECT CYL, GEAR, COUNT(*)
FROM MTCARS
GROUP BY GROUPING SETS(CYL, GEAR)
ORDER BY CYL GEAR;
+ 실린더 수, 기어 수 별로 그룹핑하여 그룹 별 개수를 구한다.
```

## GROUPING
ROLLUP, CUBE, GROUPING SETS와 함께 사용하여 소계에 해당하는 결과 행과 그렇지 않은 행을 구분할 수 있도록 해준다.
+ 소계에 해당하는 결과 행의 경우에는 ```1```을 반환하고 그렇지 않은 경우에는 ```0```을 반환한다.
```SQL
SELECT CASE GROUPING(CYL)
    WHEN 1 THEN '총계' ELSE TO_CHAR(CYL)
    END AS CYL,
    COUNT(*)
FROM MTCARS
GROUP BY ROLLUP(CYL)
ORDER BY CYL;
```